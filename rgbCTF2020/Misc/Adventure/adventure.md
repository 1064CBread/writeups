# Adventure
## Challenge Description
Making eggs for breakfast can be quite A Tedious Adventure, eating in a Restaurant Is easier

File: Breakfast.BIN

## Solution

Capital letters in the prompt spell out ATARI. This immediately hints that
Breakfast.BIN is an Atari ROM dump.

Unfamiliar with the world of Atari gaming, I Googled some questions about Atari
emulation and learned that [Stella](https://stella-emu.github.io/), which
emulates the Atari 2600, is one of the most popular options. I downloaded it
and loaded Breakfast.BIN. Lo and behold, it ran.

After playing around with the game for a bit, I realized that this game was too
elaborate to have been quickly built for a CTF, so I Googled "atari dragon
game" to see if it was a mod of a well-known game. It was, and in fact the name
of the chall was the name of the [original
game](https://en.wikipedia.org/wiki/Adventure_(1980_video_game)).

A teammate mentioned that this was the game known for having the "original
Easter egg," and that the prompt hinted at "eggs," so it was likely that
triggering the Easter egg would reveal the flag. Unfortunately, I suck at
gaming, and by this time I'd already died dozens of times because of a dumb
moth that kept stealing my stuff, so I gave up on triggering the Easter egg
manually.

Instead, I checked a few ways in which the flag could have been encoded in
Breakfast.BIN. `strings Breakfast.BIN` produced nothing interesting, so I
figured that it was probably in a graphic somewhere. I'd known from building
calculator games that small-device graphics are usually stored as monochrome
bitmap sprites, so I gave it a shot.

I downloaded the [unmodded
binary](http://www.atarimania.com/game-atari-2600-vcs-adventure_8535.html) of
Adventure and passed both the unmodded and modded dumps through the [DiStella
disassembler](https://www.romhacking.net/utilities/711/), then diffed the
disassemblies. The only difference was in a `.db` sectionâ€”presumably the
bitmaps. I copied and cleaned up the hex bytes from the changed section from
Breakfast.BIN and passed it through `xxd -p -r` and then `xxd -b`, which
effectively converted it to a binary string. After replacing each `0` with `.`
and each `1` with `8` (to make the pixel differences easier to see), this is
what it looks like:

    ..8.....................888888888....88.888888.88...............888.....8..
    .....8..............8.....888888..8.88.8..888.88.....888..........888......
    ..8.......888..8888.8....8888...88.......8.....888.88.....8.......8....8888
    ....8...88..888.....8.8.....888888......8.......8...888.8...8.......888....
    .8.8888..8888.......88......8....8888....8.......888.......8.88..888.8.....
    .88.......8...88..88...8.......88......8.8....88.888.....8.8.....888.......
    ..............8.8.....8.8.....888.......8.......8.....................888..
    ...8.......888.....................888.....8.8.....8.8.....8.8.....888.....
    ................88......8.8.....8.8.....................888.............8.8
    .....8.8.....888.......8.......8.....................88......8.8.....8.8...
    ...........................................................................
    ..........8888..8.8.....88.8..8........888888888...8...888888.8........

I had some trouble figuring out how many bits to align in each row, but a
teammate found that eight bits per row worked quite well:

    ..8.....
    ........
    ........
    88888888
    8....88.
    888888.8
    8.......
    ........
    888.....
    8.......
    8.......
    .......8
    .....888
    888..8.8
    8.8..888
    .88.....
    888.....
    .....888
    ........
    8.......
    888..888
    8.8....8
    888...88
    .......8
    .....888
    .88.....
    8.......
    8....888
    8....8..
    .88..888
    .....8.8
    .....888
    888.....
    .8......
    .8...888
    .8...8..
    .....888
    .....8.8
    888..888
    8.......
    88......
    8....888
    8....8..
    .....888
    .......8
    .88..888
    .8......
    88......
    .8...88.
    .88...8.
    ......88
    ......8.
    8....88.
    888.....
    8.8.....
    888.....
    ........
    ........
    8.8.....
    8.8.....
    888.....
    ..8.....
    ..8.....
    ........
    ........
    888.....
    8.......
    888.....
    ........
    ........
    888.....
    8.8.....
    8.8.....
    8.8.....
    888.....
    ........
    ........
    88......
    8.8.....
    8.8.....
    ........
    ........
    888.....
    ........
    8.8.....
    8.8.....
    888.....
    ..8.....
    ..8.....
    ........
    ........
    88......
    8.8.....
    8.8.....
    ........
    ........
    ........
    ........
    ........
    ........
    ........
    ........
    ........
    ........
    ...8888.
    .8.8....
    .88.8..8
    ........
    88888888
    8...8...
    888888.8
    ........

The flag can be read from top to bottom in two columns.


## Flag

`rgbCTF{b4c0n_4nd_3665}`

### Author
[DeepToaster](https://github.com/deeptoaster)